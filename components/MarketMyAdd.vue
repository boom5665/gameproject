<template>
  <div class="M-Create-Backgroud">
    <div class="navtabs">
      <div class="font-top-myshop">ร้านค้าของฉัน > เพิ่มสินค้า</div>

      <div class="form-create">
        <div style="width: 100%">
          <div class="font-form-add">เพิ่มสินค้า</div>
          <div class="dis-input">
            <div style="width: 49%">
              <label for="phone">ชื่อสินค้า *</label>
              <input type="text" id="phone" />
            </div>
            <div style="width: 49%">
              <label for="otherContact">ประเภทสินค้า *</label>
              <input type="text" id="otherContact" />
            </div>
          </div>
          <div class="dis-input">
            <div style="width: 49%">
              <label for="phone"
                >ราคา *<svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                >
                  <path
                    d="M10 2.1875C5.69219 2.1875 2.1875 5.69219 2.1875 10C2.1875 14.3078 5.69219 17.8125 10 17.8125C14.3078 17.8125 17.8125 14.3078 17.8125 10C17.8125 5.69219 14.3078 2.1875 10 2.1875ZM10 5.39062C10.2009 5.39062 10.3972 5.45019 10.5643 5.56179C10.7313 5.67339 10.8614 5.83201 10.9383 6.01759C11.0152 6.20317 11.0353 6.40738 10.9961 6.60439C10.9569 6.8014 10.8602 6.98237 10.7182 7.12441C10.5761 7.26644 10.3952 7.36317 10.1981 7.40236C10.0011 7.44155 9.79692 7.42144 9.61134 7.34457C9.42576 7.26769 9.26714 7.13752 9.15554 6.9705C9.04394 6.80348 8.98438 6.60712 8.98438 6.40625C8.98438 6.13689 9.09138 5.87856 9.28184 5.68809C9.47231 5.49763 9.73064 5.39062 10 5.39062ZM11.875 14.2188H8.4375C8.27174 14.2188 8.11277 14.1529 7.99556 14.0357C7.87835 13.9185 7.8125 13.7595 7.8125 13.5938C7.8125 13.428 7.87835 13.269 7.99556 13.1518C8.11277 13.0346 8.27174 12.9688 8.4375 12.9688H9.53125V9.53125H8.90625C8.74049 9.53125 8.58152 9.4654 8.46431 9.34819C8.3471 9.23098 8.28125 9.07201 8.28125 8.90625C8.28125 8.74049 8.3471 8.58152 8.46431 8.46431C8.58152 8.3471 8.74049 8.28125 8.90625 8.28125H10.1562C10.322 8.28125 10.481 8.3471 10.5982 8.46431C10.7154 8.58152 10.7812 8.74049 10.7812 8.90625V12.9688H11.875C12.0408 12.9688 12.1997 13.0346 12.3169 13.1518C12.4342 13.269 12.5 13.428 12.5 13.5938C12.5 13.7595 12.4342 13.9185 12.3169 14.0357C12.1997 14.1529 12.0408 14.2188 11.875 14.2188Z"
                    fill="#5C25F2"
                  /></svg
              ></label>
              <input type="text" id="phone" />
            </div>
            <div style="width: 49%">
              <label for="otherContact"
                >ราคาพิเศษ<svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                >
                  <path
                    d="M10 2.1875C5.69219 2.1875 2.1875 5.69219 2.1875 10C2.1875 14.3078 5.69219 17.8125 10 17.8125C14.3078 17.8125 17.8125 14.3078 17.8125 10C17.8125 5.69219 14.3078 2.1875 10 2.1875ZM10 5.39062C10.2009 5.39062 10.3972 5.45019 10.5643 5.56179C10.7313 5.67339 10.8614 5.83201 10.9383 6.01759C11.0152 6.20317 11.0353 6.40738 10.9961 6.60439C10.9569 6.8014 10.8602 6.98237 10.7182 7.12441C10.5761 7.26644 10.3952 7.36317 10.1981 7.40236C10.0011 7.44155 9.79692 7.42144 9.61134 7.34457C9.42576 7.26769 9.26714 7.13752 9.15554 6.9705C9.04394 6.80348 8.98438 6.60712 8.98438 6.40625C8.98438 6.13689 9.09138 5.87856 9.28184 5.68809C9.47231 5.49763 9.73064 5.39062 10 5.39062ZM11.875 14.2188H8.4375C8.27174 14.2188 8.11277 14.1529 7.99556 14.0357C7.87835 13.9185 7.8125 13.7595 7.8125 13.5938C7.8125 13.428 7.87835 13.269 7.99556 13.1518C8.11277 13.0346 8.27174 12.9688 8.4375 12.9688H9.53125V9.53125H8.90625C8.74049 9.53125 8.58152 9.4654 8.46431 9.34819C8.3471 9.23098 8.28125 9.07201 8.28125 8.90625C8.28125 8.74049 8.3471 8.58152 8.46431 8.46431C8.58152 8.3471 8.74049 8.28125 8.90625 8.28125H10.1562C10.322 8.28125 10.481 8.3471 10.5982 8.46431C10.7154 8.58152 10.7812 8.74049 10.7812 8.90625V12.9688H11.875C12.0408 12.9688 12.1997 13.0346 12.3169 13.1518C12.4342 13.269 12.5 13.428 12.5 13.5938C12.5 13.7595 12.4342 13.9185 12.3169 14.0357C12.1997 14.1529 12.0408 14.2188 11.875 14.2188Z"
                    fill="#5C25F2"
                  /></svg
              ></label>
              <input type="text" id="otherContact" />
            </div>
          </div>
          <div style="width: 100%">
            <label for="otherContact">คำอธิบาย</label>
            <input style="height: 200px" type="text" id="otherContact" />
          </div>
          <div>
            <div class="font-form-add">รูปหลัก *</div>
            <div class="preview">
              <img :src="imageUrl" class="profile-img" v-show="showImage" />
            </div>

            <div
              class=""
              v-show="!showImage"
              @click="openNav"
              ref="sidebarOpener"
            >
              <img
                class=""
                style="margin: 15px 5px"
                src="~/assets/image/img-main.png"
              />
            </div>

            <div class="font-form-add">คลังรูปภาพ (0/10)</div>
            <div class="">
              <img
                class=""
                style="margin: 15px 5px"
                src="~/assets/image/img-main.png"
              />
            </div>
          </div>
          <div>
            <div class="font-form-add">รายละเอียดเพิ่มเติม</div>
            <div class="dis-input">
              <div style="width: 49%">
                <label for="phone">แท็กแพลตฟอร์ม *</label>
                <input type="text" id="phone" />
              </div>
              <div style="width: 49%">
                <label for="otherContact">แท็กแบรนด์ *</label>
                <input type="text" id="otherContact" />
              </div>
            </div>
            <div class="dis-input">
              <div style="width: 49%">
                <label for="phone">แท็กเวอร์ชั่น *</label>
                <input type="text" id="phone" />
              </div>
              <div style="width: 49%">
                <label for="otherContact">แท็ก</label>
                <input type="text" id="otherContact" />
              </div>
            </div>
            <div class="dis-input">
              <div style="width: 49%">
                <label for="phone">สินค้าในคลัง *</label>
                <input type="text" id="phone" />
              </div>
            </div>
          </div>
          <div>
            <div class="font-form-add">โค้ด *</div>
            <div class="dis-input">
              <div style="width: 49%">
                <label for="phone">ชื่อสินค้า *</label>
                <input type="text" id="phone" />
              </div>
              <div style="width: 15%">
                <div class="button-but">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 20 20"
                    fill="none"
                  >
                    <path
                      d="M15.8334 9.99967H4.16675M15.8334 9.99967L11.6667 14.1663M15.8334 9.99967L11.6667 5.83301"
                      stroke="#5C25F2"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    ></path></svg
                  >เพิ่มโค้ด
                </div>
              </div>
            </div>
            <div style="display: flex; width: 100%">
              <div class="line-table">
                <div for="phone">หมายเลข</div>
              </div>
              <div class="line-table">
                <div for="phone">สินค้า</div>
              </div>
              <div class="line-table">
                <div for="phone">วันหมดอายุ</div>
              </div>
            </div>
            <div style="display: flex; width: 100%">
              <div class="line-table">
                <div for="phone">หมายเลข</div>
              </div>
            </div>
          </div>

          <button type="submit" class="submit">
            <div>
              <img
                class=""
                style="margin: 0px 5px; width: 20px"
                src="~/assets/image/Save.png"
              />
            </div>
            <div>Submit</div>
          </button>

          <div id="mySidenav" class="sidenav">
            <a href="javascript:void(0)" class="closebtn" @click="closeNav"
              >&times;</a
            >
            <div>
              <div style="width: 100%">
                <label for="phone">ชื่อสินค้า *</label>
                <input type="text" id="phone" />
              </div>
              <div>ขนาดรูปที่แนะนำ 960 x 540</div>
              <div>
                *รองรับไฟล์ gif, jpg, jpeg เท่านั้น และ ไฟล์มีขนาดไม่เกิน 10 MB
              </div>
              <div>
                <label
                  for="image_uploads"
                  class="img-upload-btn"
                  v-show="!imageUrl"
                >
                  <div class="">
                    <img
                      class=""
                      style="margin: 15px 5px; width: 100%"
                      src="~/assets/image/img-main-nav.png"
                    /></div
                ></label>
                <input
                  type="file"
                  id="image_uploads"
                  name="image_uploads"
                  accept=".jpg, .jpeg, .png"
                  style="opacity: 0"
                  @change="handleFileChange"
                />
                <div class="preview">
                  <!-- <p class="no-pic" v-show="!imageUploaded">No Pic uploaded</p> -->
                  <img :src="imageUrl" class="profile-img-main" v-show="imageUrl" />
                </div>
              </div>
              <div style="width: 100%">
                <label for="phone"
                  >คำบรรยายภาพ เพื่อทำให้สินค้าของคุณถูกค้นหาได้ง่ายขึ้น
                  *</label
                >
                <input type="text" id="phone" />
              </div>
            </div>
            <div class="buttons">
              <button @click="submitImage">Submit Image</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  data() {
    return {
      // ตัวแปรหรือข้อมูลที่คุณต้องการนำเข้าไปใช้ใน component นี้
      imageData: null,
      imageUrl: false,
      showImage: false,
    };
  },
  methods: {
    openNav() {
      // เปิดเมนูด้านข้าง
      document.getElementById("mySidenav").style.width = "350px";
      document.getElementById("mySidenav").style.right = "0px";
    },
    closeNav() {
      // ปิดเมนูด้านข้าง
      document.getElementById("mySidenav").style.width = "0";
      document.getElementById("mySidenav").style.right = "-50px";
    },
    handleFileChange(event) {
      const file = event.target.files[0];
      if (file) {
        this.imageData = file;
        this.imageUrl = URL.createObjectURL(file);
      } else {
        this.imageData = null;
        this.imageUrl = "";
      }
    },
    submitImage() {
      // ส่วนนี้คือการส่งข้อมูลไปยัง API หรือทำการบันทึกข้อมูลตามที่ต้องการ
      console.log("Submitted:", this.imageData);

      // เมื่อส่งเสร็จแล้วแสดงภาพที่อัพโหลด
      this.showImage = true;
       alert("เพิ่มภาพเรียบร้อย");
    },
    submitData() {
      // ส่วนนี้คือการส่งข้อมูลไปยัง API หรือทำการบันทึกข้อมูลตามที่ต้องการ
      console.log("Submitted:", this.imageData);

      // เมื่อส่งเสร็จแล้วสามารถทำการ reset หรือแสดงผลอื่น ๆ ตามที่ต้องการได้
      alert("Data submitted successfully!");
    },
    clearImage() {
      this.imageData = null;
      this.imageUrl = "";
      const input = document.getElementById("image_uploads");
      input.value = ""; // ล้างค่าของ input file
    },
  },
};
</script>



<style>
/* The side navigation menu */
.sidenav {
  height: 100%;
  width: 0;
  position: fixed;
  z-index: 1;
  top: 0;
  border-radius: 0px;
  background: #3c3b4b;
  overflow-x: hidden;
  transition: 0.5s;
  padding: 100px 16px 0px 16px;
}

/* The navigation menu links */
.sidenav a {
  padding: 8px 8px 8px 32px;
  text-decoration: none;
  font-size: 25px;
  color: #818181;
  display: block;
  transition: 0.3s;
}

/* When you mouse over the navigation links, change their color */
.sidenav a:hover,
.offcanvas a:focus {
  color: #f1f1f1;
}

/* Position and style the close button (top right corner) */
.sidenav .closebtn {
  position: absolute;
  top: 0;
  right: 25px;
  font-size: 36px;
  margin-left: 50px;
}

/* Style page content - use this if you want to push the page content to the right when you open the side navigation */
#main {
  transition: margin-left 0.5s;
  padding: 20px;
}
.sidenav {
  right: 0px;
}
/* On smaller screens, where height is less than 450px, change the style of the sidenav (less padding and a smaller font size) */
@media screen and (max-height: 450px) {
  .sidenav {
    padding-top: 15px;
  }
  .sidenav a {
    font-size: 18px;
  }
}
.sidenav {
  right: -50px;
}

.profile-img {
  width: 100px;
  height: 80px;
  margin: 15px 5px;
  border-radius: var(--Border-radius-6, 6px);
  border: 1px solid var(--color-black-white-700, #bababa);
}
.profile-img-main {
    border-radius: var(--Border-radius-6, 6px);
    border: 1px dashed var(--dd-0000, #D00);
    background: var(--Color-Midnight-600, #31303F);
    display: flex;
    height: max-content;
    padding: var(--Spacing-space-64, 64px) 0px;
    justify-content: center;
    align-items: center;
    gap: 10px;
    align-self: stretch;
    width: 100%;
}
.img-wrapper {
  padding: 20px;
}
</style>
